# 更新日志

记录 NavTools 的所有版本更新和重要变更。

## v1.2.0（2025-11-12）

### 📚 文档

#### 完整项目文档

NavTools 现已提供完整的在线文档站点，基于 VitePress 构建。

- **文档框架**：VitePress 1.6.4
- **多语言支持**：中文（默认）、英文
- **部署**：自动化部署到 GitHub Pages

**内容覆盖**：

- 🚀 快速部署指南
- ☁️ 自定义域名配置
- 🛡️ 安全特性详解
- 🏗️ 架构设计文档
- 🔌 API 接口文档

**用户指南**：
- 项目介绍
- 为什么选择 NavTools
- 功能截图
- 常见问题
- 更新日志

### 🔧 改进

- 优化了文档的构建流程
- 添加了文档站点的 SEO 配置
- 修复了移动端菜单的显示问题

---

## v1.1.0（2025-11-01）

### ✨ 新特性

#### 访客模式 (Guest Mode)

允许未登录用户访问标记为"公开"的导航内容。

- **配置开关**：`AUTH_REQUIRED_FOR_READ` (true/false)
- **权限控制**：
  - 分组级别公开/私有设置
  - 站点级别公开/私有设置
- **界面适配**：
  - 访客视图（只读，无管理按钮）
  - 管理员视图（完整功能，可见性标记）

#### 安全加固 (Security Hardening)

经过全面的安全审计，修复了 14 个安全问题。

- **SQL 注入防护**：全面使用 D1 参数化查询
- **XSS 防护**：增强输入过滤和输出转义
- **SSRF 防护**：添加 URL 格式严格验证
- **速率限制**：登录接口添加每 IP 限制（5次/15分钟）
- **CSRF 防护**：Cookie 策略升级为 `SameSite=Strict`

### 🐛 修复

- 修复了拖拽排序在某些移动设备上不灵敏的问题
- 修复了添加站点时 Favicon 获取失败导致卡顿的问题
- 修复了深色模式下部分文字颜色对比度不足的问题

---

## v1.0.0（2025-10-15）

### 首次发布

NavTools 的第一个稳定版本，提供完整的网站导航管理功能。

### 核心功能

- **用户认证**：JWT + bcrypt 注册登录系统
- **分组管理**：创建、编辑、删除分组
- **站点管理**：添加、编辑、删除站点链接
- **拖拽排序**：支持分组和站点的拖拽排序
- **数据持久化**：Cloudflare D1 数据库存储
- **响应式设计**：适配 PC 和移动端
- **深色模式**：自动跟随系统或手动切换
- **导入导出**：支持 JSON 格式数据备份

### 技术栈

- **前端**：React 19, Material UI 7, Tailwind CSS, Vite
- **后端**：Cloudflare Workers, D1, Hono (Router)
- **语言**：TypeScript 全栈

### 致谢

感谢社区反馈和安全研究人员的贡献，帮助 NavTools 成为更安全的导航管理系统。

---

## 版本命名规则

NavTools 遵循 [语义化版本规范](https://semver.org/lang/zh-CN/)：

- **主版本号**（MAJOR）：不兼容的 API 变更
- **次版本号**（MINOR）：向下兼容的功能新增
- **修订号**（PATCH）：向下兼容的问题修正
